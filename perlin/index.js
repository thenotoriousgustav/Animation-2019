var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n){e.$$.on_destroy.push(function(e,t){const n=e.subscribe(t);return n.unsubscribe?()=>n.unsubscribe():n}(t,n))}function a(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function h(){return f(" ")}function p(){return f("")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function $(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t){(null!=t||e.value)&&(e.value=t)}function b(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}let w;function x(e){w=e}const k=[],_=[],S=[],M=[],F=Promise.resolve();let B=!1;function C(e){S.push(e)}function L(){const e=new Set;do{for(;k.length;){const e=k.shift();x(e),j(e.$$)}for(;_.length;)_.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];e.has(n)||(n(),e.add(n))}S.length=0}while(k.length);for(;M.length;)M.pop()();B=!1}function j(e){e.fragment&&(e.update(e.dirty),r(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(C))}const O=new Set;let E;function T(e,t){e&&e.i&&(O.delete(e),e.i(t))}function A(e,t,n,r){if(e&&e.o){if(O.has(e))return;O.add(e),E.c.push(()=>{O.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function H(e,t){e.d(1),t.delete(e.key)}function N(e,t,n,r,i,o,l,a,s,c,u,d){let m=e.length,f=o.length,h=m;const p={};for(;h--;)p[e[h].key]=h;const g=[],v=new Map,$=new Map;for(h=f;h--;){const e=d(i,o,h),a=n(e);let s=l.get(a);s?r&&s.p(t,e):(s=c(a,e)).c(),v.set(a,g[h]=s),a in p&&$.set(a,Math.abs(h-p[a]))}const y=new Set,b=new Set;function w(e){T(e,1),e.m(a,u),l.set(e.key,e),u=e.first,f--}for(;m&&f;){const t=g[f-1],n=e[m-1],r=t.key,i=n.key;t===n?(u=t.first,m--,f--):v.has(i)?!l.has(r)||y.has(r)?w(t):b.has(i)?m--:$.get(r)>$.get(i)?(b.add(r),w(t)):(y.add(i),m--):(s(n,l),m--)}for(;m--;){const t=e[m];v.has(t.key)||s(t,l)}for(;f;)w(g[f-1]);return g}function I(e,n,o){const{fragment:l,on_mount:a,on_destroy:s,after_update:c}=e.$$;l.m(n,o),C(()=>{const n=a.map(t).filter(i);s?s.push(...n):r(n),e.$$.on_mount=[]}),c.forEach(C)}function q(e,t){e.$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function P(e,t){e.$$.dirty||(k.push(e),B||(B=!0,F.then(L)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function z(t,i,o,l,a,s){const c=w;x(t);const u=i.props||{},d=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:null};let m=!1;var f;d.ctx=o?o(t,u,(e,n,r=n)=>(d.ctx&&a(d.ctx[e],d.ctx[e]=r)&&(d.bound[e]&&d.bound[e](r),m&&P(t,e)),n)):u,d.update(),m=!0,r(d.before_update),d.fragment=l(d.ctx),i.target&&(i.hydrate?d.fragment.l((f=i.target,Array.from(f.childNodes))):d.fragment.c(),i.intro&&T(t.$$.fragment),I(t,i.target,i.anchor),L()),x(c)}class D{$destroy(){q(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function R(t){var n,r,i,o,l,u,d,f,h,p,g,$,y,w,x,k,_,S,M,F,B,C,L,j,O;return{c(){n=m("svg"),r=m("symbol"),i=m("g"),o=m("path"),l=m("symbol"),u=m("g"),d=m("g"),f=m("path"),h=m("circle"),p=m("path"),g=m("symbol"),$=m("g"),y=m("path"),w=m("path"),x=m("path"),k=m("symbol"),_=m("g"),S=m("g"),M=m("g"),F=m("path"),B=m("symbol"),C=m("g"),L=m("path"),j=m("path"),O=m("path"),v(o,"d","M 50 35 v 30 m -15 -15 h 30"),v(i,"fill","none"),v(i,"stroke","currentColor"),v(i,"stroke-width","7"),v(i,"stroke-linecap","round"),v(r,"id","add"),v(f,"d","M -20 0 h -37.5 a 15 15 0 0 0 -15 15 v 42.5 a 15 15 0 0 0 15 15 h 42.5 a 15 15 0 0 0 15 -15 v -37.5"),v(h,"cx","0"),v(h,"cy","0"),v(h,"r","20"),v(p,"stroke-width","5"),v(p,"d","M 0 -7 v 14 m -7 -7 h 14"),v(d,"transform","translate(76 24)"),v(u,"fill","none"),v(u,"stroke","currentColor"),v(u,"stroke-width","7"),v(u,"stroke-linecap","round"),v(l,"id","create"),v(y,"d","M 50 35 h 20"),v(w,"d","M 30 50 h 40"),v(x,"d","M 30 65 h 20"),v($,"fill","none"),v($,"stroke","currentColor"),v($,"stroke-width","7"),v($,"stroke-linecap","round"),v(g,"id","list"),v(F,"d","M 0 -20 v 40 m -20 -20 h 40"),v(M,"fill","none"),v(M,"stroke","currentColor"),v(M,"stroke-width","10"),v(M,"stroke-linecap","round"),v(S,"transform","rotate(45)"),v(_,"transform","translate(50 50)"),v(k,"id","delete"),v(L,"d","M 35 65 v -7.5"),v(j,"d","M 50 65 v -15"),v(O,"d","M 65 65 v -30"),v(C,"fill","none"),v(C,"stroke","currentColor"),v(C,"stroke-width","7"),v(C,"stroke-linecap","round"),v(B,"id","highlight"),v(n,"viewBox","0 0 100 100"),v(n,"width","40"),v(n,"height","40"),b(n,"display","none")},m(e,t){s(e,n,t),a(n,r),a(r,i),a(i,o),a(n,l),a(l,u),a(u,d),a(d,f),a(d,h),a(d,p),a(n,g),a(g,$),a($,y),a($,w),a($,x),a(n,k),a(k,_),a(_,S),a(S,M),a(M,F),a(n,B),a(B,C),a(C,L),a(C,j),a(C,O)},p:e,i:e,o:e,d(e){e&&c(n)}}}class G extends D{constructor(e){super(),z(this,e,null,R,o,[])}}const K=[];const V=d3.scaleOrdinal(d3.schemeTableau10);function J(e){return e.sort((e,t)=>e.value<t.value?1:-1).map(({name:e,value:t},n)=>({name:e,value:t,color:V(n)}))}const Q=function(t){const{subscribe:n,set:r,update:i}=function(t,n=e){let r;const i=[];function l(e){if(o(t,e)&&(t=e,r)){const e=!K.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),K.push(n,t)}if(e){for(let e=0;e<K.length;e+=2)K[e][0](K[e+1]);K.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(o,a=e){const s=[o,a];return i.push(s),1===i.length&&(r=n(l)||e),o(t),()=>{const e=i.indexOf(s);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}(t);return{subscribe:n,create:(e,t)=>i(n=>J(n=[...n,{name:e,value:t}])),update:(e,t)=>i(n=>{const r=n.findIndex(t=>t.name===e);return n[r].value+=t,J(n)}),delete:e=>i(t=>{const n=t.findIndex(t=>t.name===e);return J(t=[...t.slice(0,n),...t.slice(n+1)])})}}(J([{name:"Apples",value:10},{name:"Grapes",value:18},{name:"Peaches",value:15},{name:"Bananas",value:5}]));function U(e,t,n){const r=Object.create(e);return r.item=t[n],r}function W(e,t){var n,r;return{key:e,first:null,c(){(n=d("option")).__value=r=t.item.name,n.value=n.__value,this.first=n},m(e,t){s(e,n,t)},p(e,t){e.$items&&r!==(r=t.item.name)&&(n.__value=r),n.value=n.__value},d(e){e&&c(n)}}}function X(t){var n,i,o,l,u,m,f,p,$,b,w,x,k,_,S,M,F,B,C,L=[],j=new Map,O=!1;let E=t.$items;const T=e=>e.item.name;for(let e=0;e<E.length;e+=1){let n=U(t,E,e),r=T(n);j.set(r,L[e]=W(r,n))}function A(){O=!0,t.input1_input_handler.call(M)}return{c(){n=d("section"),(i=d("h2")).innerHTML='<span><svg viewBox="0 0 100 100" width="40" height="40"><use href="#add"></use></svg></span>\n\t\t\t        Add Items\n\t\t\t    ',o=h(),l=d("form"),u=d("label"),(m=d("span")).textContent="Key",f=h(),p=d("input"),b=h(),w=d("datalist");for(let e=0;e<L.length;e+=1)L[e].c();var e;x=h(),k=d("label"),(_=d("span")).textContent="Value",S=h(),M=d("input"),F=h(),(B=d("button")).innerHTML='<span id="description" hidden>Add the key value pair to the list of items</span> <svg viewBox="0 0 100 100" width="40" height="40" class="svelte-12oa6ic"><use href="#create"></use></svg>',p.required=!0,v(p,"type","text"),v(p,"placeholder",$=t.$items[0]?t.$items[0].name:"Something tasty"),v(p,"list","items"),v(p,"class","svelte-12oa6ic"),v(w,"id","items"),v(u,"class","svelte-12oa6ic"),M.required=!0,v(M,"type","number"),v(M,"placeholder","0"),v(M,"min","0"),v(M,"class","svelte-12oa6ic"),v(k,"class","svelte-12oa6ic"),v(B,"aria-label","Create entry"),v(B,"aria-describedby","description"),v(B,"class","svelte-12oa6ic"),v(l,"class","svelte-12oa6ic"),C=[g(p,"input",t.input0_input_handler),g(M,"input",A),g(l,"submit",(e=t.handleSubmit,function(t){return t.preventDefault(),e.call(this,t)}))]},m(e,r){s(e,n,r),a(n,i),a(n,o),a(n,l),a(l,u),a(u,m),a(u,f),a(u,p),y(p,t.name),a(u,b),a(u,w);for(let e=0;e<L.length;e+=1)L[e].m(w,null);a(l,x),a(l,k),a(k,_),a(k,S),a(k,M),y(M,t.value),a(l,F),a(l,B)},p(e,t){e.name&&p.value!==t.name&&y(p,t.name),e.$items&&$!==($=t.$items[0]?t.$items[0].name:"Something tasty")&&v(p,"placeholder",$);const n=t.$items;L=N(L,e,T,1,t,n,j,w,H,W,null,U),!O&&e.value&&y(M,t.value),O=!1},i:e,o:e,d(e){e&&c(n);for(let e=0;e<L.length;e+=1)L[e].d();r(C)}}}function Y(e,t,n){let r,i,o;return l(e,Q,e=>{n("$items",r=e)}),{name:i,value:o,handleSubmit:function(){-1===r.findIndex(e=>e.name===i)?Q.create(i,o):Q.update(i,o),this.reset()},$items:r,input0_input_handler:function(){i=this.value,n("name",i)},input1_input_handler:function(){o=function(e){return""===e?void 0:+e}(this.value),n("value",o)}}}class Z extends D{constructor(e){super(),z(this,e,Y,X,o,[])}}function ee(e,t,n){const r=Object.create(e);return r.item=t[n],r}function te(e){var t,n,r,i,o=[],l=new Map;let u=e.$items;const m=e=>e.item.name;for(let t=0;t<u.length;t+=1){let n=ee(e,u,t),r=m(n);l.set(r,o[t]=ne(r,n))}return{c(){t=d("section"),(n=d("h2")).innerHTML='<span><svg viewBox="0 0 100 100" width="40" height="40"><use href="#list"></use></svg></span>\n\t\t\t        List items\n\t\t\t    ',r=h(),i=d("main");for(let e=0;e<o.length;e+=1)o[e].c();v(i,"class","svelte-m9wvyg")},m(e,l){s(e,t,l),a(t,n),a(t,r),a(t,i);for(let e=0;e<o.length;e+=1)o[e].m(i,null)},p(e,t){const n=t.$items;o=N(o,e,m,1,t,n,l,i,H,ne,null,ee)},d(e){e&&c(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function ne(e,t){var n,r,i,o,l,u,m,p,y,w,x=t.item.name+"",k=t.item.value+"";function _(){return t.click_handler(t)}return{key:e,first:null,c(){n=d("article"),r=d("h2"),i=f(x),o=h(),l=d("p"),u=f(k),m=h(),(p=d("button")).innerHTML='<svg viewBox="0 0 100 100" width="30" height="30" class="svelte-m9wvyg"><use href="#delete"></use></svg>',y=h(),v(r,"class","svelte-m9wvyg"),v(l,"class","svelte-m9wvyg"),v(p,"aria-label","Delete"),v(p,"class","svelte-m9wvyg"),b(n,"border-color",t.item.color),v(n,"class","svelte-m9wvyg"),w=g(p,"click",_),this.first=n},m(e,t){s(e,n,t),a(n,r),a(r,i),a(n,o),a(n,l),a(l,u),a(n,m),a(n,p),a(n,y)},p(e,r){t=r,e.$items&&x!==(x=t.item.name+"")&&$(i,x),e.$items&&k!==(k=t.item.value+"")&&$(u,k),e.$items&&b(n,"border-color",t.item.color)},d(e){e&&c(n),w()}}}function re(t){var n,r=t.$items.length>0&&te(t);return{c(){r&&r.c(),n=p()},m(e,t){r&&r.m(e,t),s(e,n,t)},p(e,t){t.$items.length>0?r?r.p(e,t):((r=te(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&c(n)}}}function ie(e,t,n){let r;l(e,Q,e=>{n("$items",r=e)});return{$items:r,click_handler:({item:e})=>Q.delete(e.name)}}class oe extends D{constructor(e){super(),z(this,e,ie,re,o,[])}}function le(e,t,n){const r=Object.create(e);return r.slice=t[n],r}function ae(e,t,n){const r=Object.create(e);return r.top=t[n],r.index=n,r}function se(e){var t,n,r,i,o,l,p,g,y,b,w,x,k=e.$items.reduce(he,0)+"";let _=e.topFive,S=[];for(let t=0;t<_.length;t+=1)S[t]=ce(ae(e,_,t));let M=e.pie(e.$items),F=[];for(let t=0;t<M.length;t+=1)F[t]=ue(le(e,M,t));return{c(){t=d("section"),(n=d("h2")).innerHTML='<span><svg viewBox="0 0 100 100" width="40" height="40"><use href="#highlight"></use></svg></span>\n\t\t\t        Highlight items\n\t\t\t    ',r=h(),i=d("div"),o=m("svg"),l=m("g");for(let e=0;e<S.length;e+=1)S[e].c();p=h(),g=m("svg"),y=m("g"),b=m("g");for(let e=0;e<F.length;e+=1)F[e].c();w=m("text"),x=f(k),v(l,"transform","translate("+e.margin.left+" "+e.margin.top+")"),v(o,"viewBox","0 0 "+(me+(e.margin.left+e.margin.right))+" "+(fe+(e.margin.top+e.margin.bottom))),v(o,"width",me),v(o,"height",fe),v(w,"x","0"),v(w,"y","0"),v(w,"text-anchor","middle"),v(w,"dominant-baseline","middle"),v(w,"fill","hsl(240, 40%, 95%)"),v(w,"font-size",me/8),v(b,"transform","translate("+me/2+" "+fe/2+")"),v(y,"transform","translate("+e.margin.left+" "+e.margin.top+")"),v(g,"viewBox","0 0 "+(me+(e.margin.left+e.margin.right))+" "+(fe+(e.margin.top+e.margin.bottom))),v(g,"width",me),v(g,"height",fe),v(i,"class","svelte-1ljjwhb")},m(e,c){s(e,t,c),a(t,n),a(t,r),a(t,i),a(i,o),a(o,l);for(let e=0;e<S.length;e+=1)S[e].m(l,null);a(i,p),a(i,g),a(g,y),a(y,b);for(let e=0;e<F.length;e+=1)F[e].m(b,null);a(b,w),a(w,x)},p(e,t){if(e.yScale||e.xScale||e.topFive||e.width){let n;for(_=t.topFive,n=0;n<_.length;n+=1){const r=ae(t,_,n);S[n]?S[n].p(e,r):(S[n]=ce(r),S[n].c(),S[n].m(l,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=_.length}if(e.arc||e.pie||e.$items){let n;for(M=t.pie(t.$items),n=0;n<M.length;n+=1){const r=le(t,M,n);F[n]?F[n].p(e,r):(F[n]=ue(r),F[n].c(),F[n].m(b,w))}for(;n<F.length;n+=1)F[n].d(1);F.length=M.length}e.$items&&k!==(k=t.$items.reduce(he,0)+"")&&$(x,k)},d(e){e&&c(t),u(S,e),u(F,e)}}}function ce(e){var t,n,r,i,o,l,u,d,h,p,g,y=e.top.name+"";return{c(){t=m("g"),n=m("path"),o=m("g"),l=m("circle"),d=m("text"),h=f(y),v(n,"d",r="M 0 0 h "+e.xScale(e.top.value)),v(n,"fill","none"),v(n,"stroke",i=e.top.color),v(n,"stroke-linecap","round"),v(n,"stroke-width","7"),v(l,"cx","0"),v(l,"cy","0"),v(l,"r","12"),v(l,"fill",u=e.top.color),v(d,"x","25"),v(d,"y","0"),v(d,"dominant-baseline","middle"),v(d,"fill","hsl(240, 25%, 95%)"),v(d,"font-size",me/22),v(o,"transform",p="translate("+e.xScale(e.top.value)+" 0)"),v(t,"transform",g="translate(0 "+(e.yScale(e.index)+e.yScale.bandwidth()/2)+")")},m(e,r){s(e,t,r),a(t,n),a(t,o),a(o,l),a(o,d),a(d,h)},p(e,a){(e.xScale||e.topFive)&&r!==(r="M 0 0 h "+a.xScale(a.top.value))&&v(n,"d",r),e.topFive&&i!==(i=a.top.color)&&v(n,"stroke",i),e.topFive&&u!==(u=a.top.color)&&v(l,"fill",u),e.topFive&&y!==(y=a.top.name+"")&&$(h,y),(e.xScale||e.topFive)&&p!==(p="translate("+a.xScale(a.top.value)+" 0)")&&v(o,"transform",p),e.yScale&&g!==(g="translate(0 "+(a.yScale(a.index)+a.yScale.bandwidth()/2)+")")&&v(t,"transform",g)},d(e){e&&c(t)}}}function ue(e){var t,n,r;return{c(){v(t=m("path"),"d",n=e.arc(e.slice)),v(t,"fill",r=e.slice.data.color)},m(e,n){s(e,t,n)},p(e,i){(e.pie||e.$items)&&n!==(n=i.arc(i.slice))&&v(t,"d",n),(e.pie||e.$items)&&r!==(r=i.slice.data.color)&&v(t,"fill",r)},d(e){e&&c(t)}}}function de(t){var n,r=t.$items.length>0&&se(t);return{c(){r&&r.c(),n=p()},m(e,t){r&&r.m(e,t),s(e,n,t)},p(e,t){t.$items.length>0?r?r.p(e,t):((r=se(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&c(n)}}}const me=400,fe=400,he=(e,t)=>e+t.value;function pe(e,t,n){let r;l(e,Q,e=>{n("$items",r=e)});const i=d3.arc().innerRadius(me/3).outerRadius(me/2);let o,a,s,c;return e.$$.update=((e={$items:1,topFive:1})=>{e.$items&&n("topFive",a=r.slice(0,5)),e.topFive&&n("xScale",s=d3.scaleLinear().domain([0,1.25*d3.max(a,e=>e.value)]).range([0,me]).nice()),e.topFive&&n("yScale",c=d3.scaleBand().domain(d3.range(a.length)).range([0,fe]))}),n("pie",o=d3.pie().value(e=>e.value)),{margin:{top:30,right:30,bottom:30,left:30},arc:i,pie:o,topFive:a,$items:r,xScale:s,yScale:c}}class ge extends D{constructor(e){super(),z(this,e,pe,de,o,[])}}function ve(t){var n,r,i,o,l,u=new G({}),m=new Z({}),f=new oe({}),p=new ge({});return{c(){n=d("div"),u.$$.fragment.c(),r=h(),m.$$.fragment.c(),i=h(),f.$$.fragment.c(),o=h(),p.$$.fragment.c(),v(n,"class","app svelte-bshi3b")},m(e,t){s(e,n,t),I(u,n,null),a(n,r),I(m,n,null),a(n,i),I(f,n,null),a(n,o),I(p,n,null),l=!0},p:e,i(e){l||(T(u.$$.fragment,e),T(m.$$.fragment,e),T(f.$$.fragment,e),T(p.$$.fragment,e),l=!0)},o(e){A(u.$$.fragment,e),A(m.$$.fragment,e),A(f.$$.fragment,e),A(p.$$.fragment,e),l=!1},d(e){e&&c(n),q(u),q(m),q(f),q(p)}}}return new class extends D{constructor(e){super(),z(this,e,null,ve,o,[])}}({target:document.body})}();